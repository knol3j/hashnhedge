---
title: Em um relacionamento s√©rio com generators front-end ‚Äì Parte 3
authors: Beto Muniz
type: post
date: 2015-02-06
image: https://raw.githubusercontent.com/diegoeis/tableless-static-images/master/2015/02/pngbase643ef91c517603490c.png
excerpt: Nesta terceira parte da s√©rie, iremos abordar o Slush Generator, que √© um Scaffolding Generator baseado em NodeJS e que tem uma forma diferenciada para cria√ß√£o de seus scaffolds.
url: /em-um-relacionamento-serio-com-generators-front-end-parte-3/
categories:
  - Javascript
  - CSS
  - HTML
  - HTML5
  - T√©cnicas e Pr√°ticas
  - Tecnologia e Tend√™ncias
tags:
  - gulp
  - Node
---

## TL;DR

Antes de iniciarmos o post, vale lembrar que em momento nenhum eu e o <a href="https://twitter.com/PedroPolisenso" target="_blank">Pedro Polisenso</a> estamos elegendo o melhor ou pior generator, visto que o output desse tipo de ferramenta √© geralmente o mesmo¬†dependendo da compara√ß√£o, sendo assim, cabe a voc√™ analisar pr√≥s e contras de cada um e realizar uma escolha satisfat√≥ria pra sua necessidade.

**Mas vamos parar de mimimi e vamos ao que importa.**

## Slush, um gerador baseado em streamings (e no gulp).

Nossa! Entramos no assunto principal e de cara deixando expl√≠cito que o <a href="https://slushjs.github.io/" target="_blank">Slush</a> utiliza Streamings e o Gulp, e se usa eles, j√° que todo mundo fala de Streamings e Gulp, √© porque √© bom, n√£o √©? Mas o que s√£o Streamings e porque isso pode fazer a diferen√ßa na escolha do Slush como gerador? E que raios √© esse tal de Gulp?

### Stream

Sendo bem objetivo, <a href="https://pt.wikipedia.org/wiki/Stream" target="_blank">Stream</a> √© um processo computacional para lidar com informa√ß√µes. Ok, mas o que isso quer dizer para n√≥s? Quer dizer que&#8230;

_**Streams est√° para o Slush, Como a cereja est√° para o bolo.**_

Isso mesmo! E quando digo isso, √© porque, ao utilizar Streamings ganhamos agilidade para trabalhar com dados provenientes de arquivos ou seja l√° qual for a origem, pois esta forma de processo, armazena toda a informa√ß√£o em mem√≥ria, o que n√£o nos obriga¬†por exemplo, abrir(_ler_) e fechar(_escrever_) arquivos e/ou conex√µes o todo tempo para manipular¬†essa informa√ß√£o, al√©m de outros benef√≠cios, que n√£o vou abordar neste post, visto que o foco dele √© o Slush, certo? üòÄ

### Gulp

O <a href="https://gulpjs.com/" target="_blank">Gulp</a> √© um Task Runner baseado em Streamings, e ao ler isso, normalmente a pessoa faz uma cara de espertinho, sabendo de cara que esse √© o motivo do Slush ser um Scaffolding Generator baseado em Streamings (_d√£_). Ok! Mas ao chegar nessa conclus√£o, o que digo a voc√™s √© que est√£o **CERT√çSSIMOS** üòâ

Mas n√£o √© s√≥ isso, Gulp √© de f√°cil uso, alta efici√™ncia e qualidade de c√≥digo, e al√©m de tudo, f√°cil de aprender e isso o Slush herda por default ao¬†utilizar ele.

T√°! Mas n√£o da pra falar do Gulp sem falar do Grunt (_mimimi4ever_), por√©m, n√£o quero gerar nenhum flame, o principal t√≥pico que tenho a dizer sobre isso, √© que no final, ambos tem a mesma finalidade, mas a forma de execu√ß√£o e as vezes de processamento, √© que pode variar‚Ä¶ oO&#8230;mas vamos deixar esses breves conceitos embutidos pra l√° e voltar ao assunto principal&#8230;

## Tudo bem, mas&#8230; √© s√≥ isso que o Slush tem de bom?

Se fosse s√≥ o uso do Gulp e Streamings j√° seria bastante coisa, mas a boa not√≠cia √© que¬†o Slush tem muito mais a oferecer, e para ilustrar, fiz uma pequena lista de benef√≠cios trazidos por¬†ele:

  * <a href="https://slushjs.github.io/generators/#/" target="_blank">Reposit√≥rio de Generators oficial</a>;
  * √â extremamente flex√≠vel para¬†cria√ß√£o e distribui√ß√£o de Generators;
  * Faz tudo que o Grunt faz, e¬†muita das vezes de forma bem mais simples;
  * Utiliza o Gulp em sua base e que por sua vez aplica outros in√∫meros benef√≠cios e comodidades;
  * √â totalmente testav√©l.

## Entendi e gostei, como fa√ßo para come√ßar a utilizar?

#### Instala√ß√£o

Para instalar o Slush, basta voc√™ ter o <a href="https://nodejs.org/" target="_blank">NodeJS</a>¬†no seu computador¬†e¬†executar o seguinte comando no terminal:

     $ npm install -g slush

Para testar a instala√ß√£o, basta executar o comando:

     $ slush -v

Se ele retonar a vers√£o do mesmo, √© porque ocorreu tudo supimpa (_rs&#8230;_).

#### Utilizando Generators de terceiros

Para utilizar Generators de terceiros ou at√© mesmo distribuir e utilizar os que voc√™ criar em qualquer lugar daqui pra frente, vamos¬†recorrer ao reposit√≥rio disponibilizado pelo <a href="https://joakim.beng.se/" target="_blank">criador do Slush</a>, que voc√™ pode conferir <a href="https://slushjs.github.io/generators/#/" target="_blank">aqui</a>. Nele existem centenas de Generators dos mais variados tipos e finalidades, e para exemplificar o uso de Generators de terceiros, irei utilizar um que eu mesmo criei: O <a href="https://github.com/webcomponents/slush-element/" target="_blank"><strong>slush-element</strong></a>, que basicamente serve pra criar Web Components, utilizando-se do padr√£o do Polymer, X-Tags ou Nativo (VannilaJS).

Para iniciarmos o uso do generator **element**, precisamos instalar o mesmo e para isso, basta executar o seguinte comando no terminal:

     $ npm install -g <strong>slush-element</strong>

Ap√≥s concluir a instala√ß√£o, voc√™ poder√° executar esse generator em sua¬†forma _default_ ou atrav√©s de tarefas disponibilizadas, e a forma de se fazer isso, eu exemplifico logo abaixo:

     # Executando tarefa <em>'default'</em> do generator <strong>element</strong>
     $ slush element

Ou ent√£o, se desejar e caso exista alguma tarefa espec√≠fica,¬†fa√ßa o seguinte:

     # Executando tarefa <em>'repo'</em> do generator <strong>element</strong>
     $ slush element:<strong>repo</strong>

Mas claro, existem m√∫ltiplas op√ß√µes de sa√≠da dentro deste exemplo, por√©m, vai l√°, instala o generator, teste-o e divirta-se, e principalmente se voc√™ curtir o assunto Web Components como eu, este gerador ser√° uma super m√£o na roda pra voc√™. Mas¬†para saber mais sobre ele, acesse este [link][1].

## Bacana, mas e seu eu quiser fazer um? #comofaz

Bom, n√£o irei aprofundar muito nos detalhes de cria√ß√£o, pois d√° pra fazer uma s√©rie s√≥ sobre esses detalhes, mas irei demonstrar¬†os arquivos necess√°rios para desenvolvermos um Generator para o Slush e tamb√©m colocarei o conte√∫do que¬†cada um deles necessita com coment√°rios explicativos, mas qualquer d√∫vida a mais que voc√™ tiver, √© s√≥ deixar nos coment√°rios! Vou ter um prazer enorme em responder. E l√° vamos n√≥s üòÄ

<pre>slush-boilerplate/
   node_modules/         # Diret√≥rio de instala√ß√£o local das depend√™ncias obrigat√≥rias do Slush e do seu generator, se ele tiver alguma.
   templates/            # Local que armazenamos os templates do generator.
   templates/index.html  # Arquivo* de template [<em>*poderia ser qualquer arquivo</em>].
   package.json          # Arquivo de configura√ß√£o do NodeJS e onde ficam declaradas as depend√™ncias do Slush   Generator.
   slushfile.js          # Arquivo de configura√ß√£o que o Slush busca para execu√ß√£o do generator.</pre>

### Arquivo package.json

Em primeiro lugar, vou falar do _package.json,_ que al√©m de declarar¬†as depend√™ncias necess√°rias para que o Slush e o Generator possa trabalhar, possui¬†uma keyword chamada¬†**slushgenerator**, que √© obrigat√≥ria¬†para indexa√ß√£o no reposit√≥rio oficial de Generators do Slush, mas n√£o se preocupe em colocar outras al√©m dessa, pois isso tamb√©m ajudar√° na hora de buscar pelo seu Generator. Segue o modelo do package.json do nosso Generator abaixo:

    {
      "name": "slush-boilerplate",
      "description": "A slush generator boilerplate",
      "version": "1.0.0",
      "homepage": "https://github.com/obetomuniz/slush-boilerplate",
      "author": {
        "name": "Beto Muniz",
        "email": "contato@betomuniz.com"
      },
      "repository": {
        "type": "git",
        "url": "git://github.com/obetomuniz/slush-boilerplate.git"
      },
      "bugs": {
        "url": "https://github.com/obetomuniz/slush-boilerplate/issues"
      },
      "licenses": [{
        "type": "MIT",
        "url": "https://github.com/obetomuniz/slush-boilerplate/blob/master/LICENSE"
      }],
      "main": "slushfile.js",
      "dependencies": {
    <strong>    "gulp": "^3.8.7",
        "gulp-conflict": "^0.3.0",
        "gulp-install": "^0.2.0",
        "gulp-template": "^2.0.0",
        "inquirer": "^0.8.0"</strong>
      },
      "keywords": [
        "<strong>slushgenerator</strong>"
      ]
    }

#### Arquivo slushfile.js

Em segundo lugar e n√£o menos importante, iremos criar o _slushfile.js_, mas¬†para entender melhor como funciona cada parte, leia os coment√°rios no conte√∫do¬†logo abaixo:

    'use strict';
    
    // Requisi√ß√£o das depend√™ncias do Slush
    var gulp = require('gulp'),
        install = require('gulp-install'),
        conflict = require('gulp-conflict'),
        template = require('gulp-template'),
        inquirer = require('inquirer');
    
    // Aqui est√° nossa tarefa default, ou seja, ao executarmos o comando `<em>slush boilerplate</em>`, esta tarefa √© a que ser√° chamada.
    gulp.task('default', function(done) {
    
      // Est√° √© a lista de perguntas. Podemos aplicar uma ou mais perguntas, e de diferentes tipos como: lista, checklist, boleano, texto, etc.
      var prompts = [{
        name: 'seuNome',
        message: "Qual seu nome?",
        default: "Fulano de Tal"
      }];
    
      inquirer.prompt(prompts, function(answers) {
    
        // Aqui os templates s√£o declarados para serem encontrados no diret√≥rio `<em>templates</em>`
        var files = [];
        files.push(__dirname + '/templates/**');
    
        // Executando e processando nossos arquivos a serem gerados.
        gulp.src(files)
          .pipe(template(answers))
          .pipe(conflict('./'))
          .pipe(gulp.dest('./'))
          .pipe(install())
          .on('end', function() {
            done();
          });
      });
    });

#### Diret√≥rio \`_templates_\`

Neste diret√≥rio ser√£o armazenado os arquivos que ser√£o entregues ao se utilizar o Generator. No nosso caso, iremos entregar dentro do diret√≥rio apenas um arquivo _index.html_, mas nada impede voc√™ de colocar imagens, v√≠deos, sub-diret√≥rios, arquivos de JavaScript, folhas de estilo, Markdown, ou seja, qualquer tipo de arquivo pode ser um ‚Äútemplate‚Äù aqui dentro.

#### Arquivo \`_index.html_\` dentro do diret√≥rio \`_templates_\`

<pre class="prettyprint lang-html"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Slush - Simple Bootstrap&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Ol√°, &lt;%= seuNome %&gt;.&lt;/h1&gt; &lt;!-- Repare que coloco a mesma declara√ß√£o de vari√°vel que eu crio na resposta da pergunta do slushfile.js. --&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

E basicamente ser√£o estes 3 arquivos +¬†um sub-diret√≥rio que iremos precisar.

Para testar localmente, al√©m de ter o Slush instalado e ter rodado o comando `npm install` no diret√≥rio do nosso Generator, ser√° preciso executar no seu terminal o comando `npm link .`¬†dentro do diret√≥rio do nosso Generator, e assim, o mesmo ser√° adicionado a lista de m√≥dulos do NPM do seu computador para uso normal.

Em no nosso caso ap√≥s executar o comando `npm link .` iremos executar o comando abaixo dentro de uma pasta qualquer:

     $ slush boilerplate

Ao fazer isso, ser√° perguntado a voc√™ o seu nome, e em seguida, um arquivo _index.html_ ser√° criado ¬†neste diret√≥rio. Sim, √© s√≥ isso mesmo üôÇ

E por fim, para distribuir seu generator, ser√° necess√°rio uma conta no <a href="https://www.npmjs.com/" target="_blank">NPMJS.ORG</a>¬†e a execu√ß√£o do comando `npm publish` dentro do diret√≥rio do seu Generator. Caso voc√™ n√£o esteja¬†logado localmente no NPM, ao executar o comando, ser√° solicitado seu **username, senha e email** cadastrados no _NPMJS.ORG_, para prosseguir, basta¬†oferecer tais dados e executar novamente o comando `npm publish`. E por fim, pra conferir a publica√ß√£o, basta acessar sua conta no _NPMJS.ORG_.

**OBS:** Se seu Generator¬†tiver¬†a keyword¬†**slushgenerator**, em pouco tempo ele ser√° adicionado automaticamente no Reposit√≥rio oficial de Generators do Slush.

## E isso √© tudo pessoal&#8230; o/

Mas antes de¬†fechar o post, primeiramente espero que tenham gostado do tema e agrade√ßo imensamente a leitura, mas deixo a dica para que n√£o se prendam apenas nesse post, sempre busquem outras fontes de conhecimento, pois s√≥ assim, o seu senso cr√≠tico ir√° evoluir. Ah! E n√£o deixem pra l√° outros t√≥picos abordados aqui, como Streamings, Gulp, Grunt e bolos (sim, bolos).

Mas √© isso&#8230;Um abra√ß√£o!!! E at√© o pr√≥ximo post.

## Refer√™ncias

  * <a href="https://github.com/slushjs/mock-gulp-dest" target="_blank">Ferramenta de Testes para Slush</a>
  * <a href="https://en.wikipedia.org/wiki/Stream_%28computing%29" target="_blank">Stream</a>
  * <a href="https://gulpjs.com/" target="_blank">GulpJS</a>
  * <a href="https://slushjs.github.io/#/" target="_blank">Slush</a>
  * <a href="https://slushjs.github.io/generators/#/" target="_blank">Slush Generators</a>
  * <a href="https://nodejs.org/" target="_blank">NodeJS</a>
  * <a href="https://www.npmjs.com/" target="_blank">NPMJS.ORG</a>
  * <a href="https://github.com/obetomuniz/slush-boilerplate" target="_blank">Slush Generator Boilerplate</a>
  * <a href="https://github.com/webcomponents/slush-element" target="_blank">Slush Element</a>

&nbsp;

<img class="alignleft size-medium wp-image-46783" src="https://raw.githubusercontent.com/diegoeis/tableless-static-images/master/2015/02/elvis-thanks.gif" alt="elvis-thanks" width="247" height="139" />

 [1]: https://github.com/webcomponents/slush-element